<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Getting to know your data 1</title>
    <meta charset="utf-8" />
    <meta name="author" content="Claus O. Wilke" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link rel="stylesheet" href="Wilke-slides-theme.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, title-slide

# Getting to know your data 1
### Claus O. Wilke
### last updated: 2021-09-12

---




---
class: center middle

## Inspecting and cleaning a dataset in R

---

## Start with a cursory inspection



.tiny-font[

```r
NCbirths &lt;- read_csv("https://wilkelab.org/DSC385/datasets/NCbirths.csv")
```
]

--

.tiny-font[

```r
NCbirths
```

```
# A tibble: 1,450 × 15
      ID Plural   Sex MomAge Weeks Marital RaceMom HispMom Gained Smoke BirthWeightOz
   &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;  &lt;dbl&gt;         &lt;dbl&gt;
 1     1      1     1     32    40       1       1 N       38         0           111
 2     2      1     2     32    37       1       1 N       34         0           116
 3     3      1     1     27    39       1       1 N       12         0           138
 4     4      1     1     27    39       1       1 N       15         0           136
 5     5      1     1     25    39       1       1 N       32         0           121
 6     6      1     1     28    43       1       1 N       32         0           117
 7     7      1     2     25    39       1       1 N       75         0           143
 8     8      1     2     15    42       2       1 N       25         0           113
 9     9      1     2     21    39       1       1 N       28         0           120
10    10      1     2     27    40       2       1 N       37         0           124
# … with 1,440 more rows, and 4 more variables: BirthWeightGm &lt;dbl&gt;, Low &lt;dbl&gt;, Premie &lt;dbl&gt;,
#   MomRace &lt;chr&gt;
```
]



---

## Start with a cursory inspection

What's going on with the `Gained` column?



.tiny-font[

```r
NCbirths %&gt;%
  pull(Gained)
```

```
   [1] "38"   "34"   "12"   "15"   "32"   "32"   "75"   "25"   "28"   "37"   "45"   "52"  
  [13] "26"   "31"   "40"   "51"   "45"   "25"   "0"    "20"   "20"   "38"   "15"   "3"   
  [25] "9"    "37"   "30"   "40"   "37"   "56"   "48"   "4"    "43"   "40"   "25"   "53"  
  [37] "15"   "19"   "26"   "32"   "25"   "50"   "34"   "2"    "23"   "16"   "48"   "80"  
  [49] "19"   "16"   "50"   "55"   "25"   "33"   "10"   "30"   "30"   "#N/A" "55"   "38"  
  [61] "33"   "49"   "14"   "18"   "40"   "30"   "17"   "45"   "15"   "31"   "50"   "25"  
  [73] "12"   "38"   "47"   "20"   "40"   "34"   "5"    "25"   "18"   "27"   "46"   "31"  
  [85] "48"   "15"   "51"   "12"   "33"   "17"   "25"   "31"   "24"   "16"   "18"   "40"  
  [97] "16"   "57"   "18"   "29"   "45"   "18"   "11"   "20"   "50"   "26"   "20"   "35"  
 [109] "12"   "38"   "50"   "28"   "34"   "41"   "20"   "5"    "30"   "35"   "16"   "32"  
 [121] "40"   "30"   "28"   "25"   "50"   "25"   "0"    "7"    "24"   "34"   "40"   "32"  
 [133] "25"   "25"   "25"   "0"    "47"   "45"   "34"   "46"   "40"   "38"   "0"    "35"  
 [145] "10"   "23"   "27"   "10"   "10"   "32"   "58"   "27"   "51"   "20"   "20"   "55"  
 [157] "19"   "30"   "0"    "43"   "46"   "25"   "25"   "50"   "40"   "17"   "35"   "45"  
 [169] "#N/A" "32"   "33"   "30"   "50"   "35"   "29"   "30"   "15"   "26"   "#N/A" "19"  
 [181] "26"   "16"   "21"   "33"   "30"   "33"   "61"   "11"   "22"   "29"   "21"   "0"   
 [193] "34"   "12"   "34"   "31"   "39"   "42"   "9"    "20"   "#N/A" "24"   "28"   "21"  
 [205] "26"   "30"   "30"   "35"   "43"   "28"   "35"   "41"   "40"   "20"   "25"   "50"  
 [217] "30"   "20"   "20"   "23"   "40"   "35"   "22"   "60"   "33"   "30"   "20"   "28"  
 [229] "30"   "58"   "30"   "50"   "45"   "40"   "10"   "25"   "40"   "33"   "20"   "26"  
 [241] "25"   "26"   "43"   "#N/A" "#N/A" "56"   "21"   "#N/A" "40"   "45"   "50"   "46"  
 [253] "20"   "40"   "#N/A" "40"   "33"   "40"   "51"   "25"   "30"   "40"   "20"   "35"  
 [265] "35"   "34"   "38"   "28"   "20"   "70"   "20"   "24"   "43"   "50"   "12"   "22"  
 [277] "18"   "51"   "50"   "25"   "1"    "35"   "20"   "33"   "20"   "35"   "34"   "33"  
 [289] "15"   "31"   "36"   "38"   "30"   "33"   "12"   "45"   "34"   "40"   "35"   "55"  
 [301] "19"   "39"   "19"   "#N/A" "27"   "20"   "35"   "40"   "35"   "30"   "43"   "36"  
 [313] "40"   "45"   "26"   "34"   "30"   "20"   "14"   "20"   "29"   "35"   "42"   "37"  
 [325] "9"    "20"   "32"   "0"    "30"   "35"   "45"   "50"   "50"   "25"   "#N/A" "34"  
 [337] "56"   "15"   "40"   "28"   "20"   "25"   "40"   "28"   "40"   "43"   "22"   "34"  
 [349] "33"   "38"   "53"   "29"   "16"   "45"   "33"   "31"   "18"   "39"   "20"   "9"   
 [361] "25"   "15"   "25"   "40"   "11"   "22"   "#N/A" "43"   "30"   "37"   "46"   "16"  
 [373] "40"   "21"   "24"   "38"   "46"   "21"   "23"   "35"   "45"   "55"   "30"   "34"  
 [385] "30"   "11"   "55"   "11"   "29"   "23"   "26"   "8"    "27"   "20"   "34"   "26"  
 [397] "40"   "0"    "32"   "33"   "47"   "41"   "30"   "25"   "22"   "35"   "5"    "25"  
 [409] "30"   "18"   "18"   "36"   "29"   "34"   "30"   "30"   "21"   "26"   "45"   "15"  
 [421] "12"   "37"   "20"   "31"   "23"   "39"   "33"   "10"   "33"   "45"   "46"   "21"  
 [433] "45"   "38"   "24"   "30"   "20"   "11"   "16"   "30"   "10"   "33"   "40"   "24"  
 [445] "32"   "55"   "30"   "20"   "20"   "40"   "34"   "27"   "24"   "30"   "20"   "29"  
 [457] "51"   "23"   "7"    "25"   "#N/A" "8"    "50"   "40"   "35"   "38"   "34"   "38"  
 [469] "26"   "69"   "10"   "35"   "19"   "31"   "20"   "32"   "18"   "60"   "40"   "#N/A"
 [481] "#N/A" "16"   "24"   "20"   "38"   "33"   "30"   "22"   "20"   "28"   "45"   "#N/A"
 [493] "53"   "11"   "35"   "22"   "44"   "22"   "27"   "40"   "36"   "31"   "47"   "68"  
 [505] "26"   "32"   "28"   "43"   "29"   "53"   "25"   "49"   "55"   "30"   "44"   "22"  
 [517] "18"   "50"   "49"   "18"   "40"   "25"   "44"   "30"   "18"   "0"    "25"   "26"  
 [529] "50"   "#N/A" "31"   "30"   "24"   "20"   "35"   "35"   "42"   "25"   "35"   "47"  
 [541] "17"   "22"   "25"   "24"   "40"   "15"   "39"   "20"   "14"   "52"   "23"   "25"  
 [553] "31"   "12"   "25"   "30"   "45"   "41"   "21"   "44"   "95"   "25"   "27"   "27"  
 [565] "69"   "43"   "20"   "50"   "29"   "10"   "35"   "33"   "6"    "#N/A" "42"   "35"  
 [577] "60"   "45"   "28"   "20"   "#N/A" "20"   "14"   "27"   "29"   "30"   "31"   "40"  
 [589] "31"   "75"   "27"   "25"   "34"   "11"   "20"   "40"   "30"   "30"   "20"   "23"  
 [601] "20"   "15"   "10"   "37"   "35"   "28"   "45"   "17"   "30"   "36"   "42"   "10"  
 [613] "21"   "0"    "33"   "38"   "56"   "22"   "40"   "24"   "52"   "30"   "36"   "24"  
 [625] "0"    "9"    "32"   "14"   "23"   "50"   "29"   "25"   "40"   "20"   "55"   "25"  
 [637] "35"   "38"   "25"   "15"   "33"   "4"    "29"   "24"   "31"   "41"   "40"   "36"  
 [649] "17"   "40"   "35"   "14"   "26"   "35"   "44"   "32"   "28"   "27"   "30"   "32"  
 [661] "25"   "20"   "40"   "34"   "60"   "20"   "50"   "27"   "8"    "55"   "28"   "18"  
 [673] "8"    "50"   "30"   "25"   "28"   "20"   "0"    "31"   "25"   "#N/A" "24"   "30"  
 [685] "18"   "16"   "#N/A" "30"   "1"    "38"   "5"    "17"   "7"    "32"   "50"   "10"  
 [697] "35"   "10"   "55"   "20"   "34"   "25"   "21"   "20"   "21"   "45"   "26"   "34"  
 [709] "27"   "30"   "65"   "30"   "40"   "25"   "50"   "3"    "20"   "30"   "45"   "10"  
 [721] "31"   "#N/A" "48"   "30"   "46"   "30"   "40"   "40"   "46"   "30"   "20"   "68"  
 [733] "18"   "8"    "25"   "38"   "60"   "8"    "50"   "28"   "40"   "20"   "33"   "50"  
 [745] "50"   "30"   "15"   "33"   "81"   "15"   "28"   "32"   "#N/A" "27"   "32"   "36"  
 [757] "20"   "31"   "36"   "#N/A" "28"   "39"   "14"   "38"   "25"   "20"   "18"   "32"  
 [769] "52"   "32"   "10"   "45"   "69"   "21"   "50"   "29"   "40"   "21"   "47"   "30"  
 [781] "20"   "42"   "39"   "38"   "15"   "11"   "36"   "43"   "25"   "25"   "20"   "62"  
 [793] "69"   "20"   "38"   "30"   "30"   "#N/A" "52"   "50"   "40"   "45"   "50"   "40"  
 [805] "28"   "30"   "30"   "#N/A" "30"   "25"   "20"   "13"   "32"   "15"   "32"   "10"  
 [817] "45"   "6"    "24"   "40"   "26"   "18"   "35"   "60"   "44"   "37"   "27"   "26"  
 [829] "18"   "40"   "22"   "40"   "40"   "30"   "21"   "36"   "27"   "55"   "20"   "30"  
 [841] "38"   "33"   "24"   "35"   "30"   "35"   "21"   "31"   "20"   "40"   "25"   "32"  
 [853] "39"   "35"   "43"   "28"   "37"   "24"   "12"   "36"   "40"   "71"   "50"   "34"  
 [865] "45"   "0"    "10"   "55"   "56"   "30"   "40"   "13"   "22"   "23"   "32"   "30"  
 [877] "30"   "33"   "20"   "40"   "44"   "32"   "15"   "39"   "#N/A" "45"   "32"   "20"  
 [889] "32"   "31"   "25"   "30"   "#N/A" "40"   "30"   "30"   "29"   "37"   "31"   "28"  
 [901] "34"   "32"   "40"   "28"   "50"   "31"   "23"   "25"   "32"   "45"   "22"   "33"  
 [913] "30"   "18"   "38"   "17"   "30"   "35"   "30"   "25"   "37"   "51"   "38"   "10"  
 [925] "55"   "27"   "21"   "40"   "47"   "56"   "23"   "40"   "37"   "45"   "23"   "26"  
 [937] "38"   "45"   "7"    "45"   "35"   "40"   "20"   "23"   "20"   "23"   "6"    "33"  
 [949] "40"   "30"   "38"   "57"   "30"   "10"   "28"   "33"   "4"    "20"   "25"   "27"  
 [961] "15"   "60"   "65"   "64"   "65"   "50"   "33"   "20"   "30"   "38"   "15"   "60"  
 [973] "60"   "38"   "40"   "20"   "27"   "45"   "6"    "14"   "33"   "37"   "35"   "12"  
 [985] "25"   "35"   "27"   "30"   "#N/A" "45"   "20"   "38"   "43"   "20"   "#N/A" "28"  
 [997] "9"    "27"   "19"   "23"  
 [ reached getOption("max.print") -- omitted 450 entries ]
```
]



---

## Use the `na` argument to specify allowed `NA` values



.tiny-font[

```r
NCbirths &lt;- read_csv(
  "https://wilkelab.org/DSC385/datasets/NCbirths.csv",
  na = c("", "NA", "#N/A")
)
```
]

--

.tiny-font[

```r
NCbirths  # check entire data frame
```

```
# A tibble: 1,450 × 15
      ID Plural   Sex MomAge Weeks Marital RaceMom HispMom Gained Smoke BirthWeightOz
   &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;    &lt;dbl&gt; &lt;dbl&gt;         &lt;dbl&gt;
 1     1      1     1     32    40       1       1 N           38     0           111
 2     2      1     2     32    37       1       1 N           34     0           116
 3     3      1     1     27    39       1       1 N           12     0           138
 4     4      1     1     27    39       1       1 N           15     0           136
 5     5      1     1     25    39       1       1 N           32     0           121
 6     6      1     1     28    43       1       1 N           32     0           117
 7     7      1     2     25    39       1       1 N           75     0           143
 8     8      1     2     15    42       2       1 N           25     0           113
 9     9      1     2     21    39       1       1 N           28     0           120
10    10      1     2     27    40       2       1 N           37     0           124
# … with 1,440 more rows, and 4 more variables: BirthWeightGm &lt;dbl&gt;, Low &lt;dbl&gt;, Premie &lt;dbl&gt;,
#   MomRace &lt;chr&gt;
```
]



---

## Use the `na` argument to specify allowed `NA` values



.tiny-font[

```r
NCbirths &lt;- read_csv(
  "https://wilkelab.org/DSC385/datasets/NCbirths.csv",
  na = c("", "NA", "#N/A")
)
```
]

.tiny-font[

```r
NCbirths %&gt;%   # check just the column `Gained`
  pull(Gained)
```

```
   [1] 38 34 12 15 32 32 75 25 28 37 45 52 26 31 40 51 45 25  0 20 20 38 15  3  9 37 30 40 37
  [30] 56 48  4 43 40 25 53 15 19 26 32 25 50 34  2 23 16 48 80 19 16 50 55 25 33 10 30 30 NA
  [59] 55 38 33 49 14 18 40 30 17 45 15 31 50 25 12 38 47 20 40 34  5 25 18 27 46 31 48 15 51
  [88] 12 33 17 25 31 24 16 18 40 16 57 18 29 45 18 11 20 50 26 20 35 12 38 50 28 34 41 20  5
 [117] 30 35 16 32 40 30 28 25 50 25  0  7 24 34 40 32 25 25 25  0 47 45 34 46 40 38  0 35 10
 [146] 23 27 10 10 32 58 27 51 20 20 55 19 30  0 43 46 25 25 50 40 17 35 45 NA 32 33 30 50 35
 [175] 29 30 15 26 NA 19 26 16 21 33 30 33 61 11 22 29 21  0 34 12 34 31 39 42  9 20 NA 24 28
 [204] 21 26 30 30 35 43 28 35 41 40 20 25 50 30 20 20 23 40 35 22 60 33 30 20 28 30 58 30 50
 [233] 45 40 10 25 40 33 20 26 25 26 43 NA NA 56 21 NA 40 45 50 46 20 40 NA 40 33 40 51 25 30
 [262] 40 20 35 35 34 38 28 20 70 20 24 43 50 12 22 18 51 50 25  1 35 20 33 20 35 34 33 15 31
 [291] 36 38 30 33 12 45 34 40 35 55 19 39 19 NA 27 20 35 40 35 30 43 36 40 45 26 34 30 20 14
 [320] 20 29 35 42 37  9 20 32  0 30 35 45 50 50 25 NA 34 56 15 40 28 20 25 40 28 40 43 22 34
 [349] 33 38 53 29 16 45 33 31 18 39 20  9 25 15 25 40 11 22 NA 43 30 37 46 16 40 21 24 38 46
 [378] 21 23 35 45 55 30 34 30 11 55 11 29 23 26  8 27 20 34 26 40  0 32 33 47 41 30 25 22 35
 [407]  5 25 30 18 18 36 29 34 30 30 21 26 45 15 12 37 20 31 23 39 33 10 33 45 46 21 45 38 24
 [436] 30 20 11 16 30 10 33 40 24 32 55 30 20 20 40 34 27 24 30 20 29 51 23  7 25 NA  8 50 40
 [465] 35 38 34 38 26 69 10 35 19 31 20 32 18 60 40 NA NA 16 24 20 38 33 30 22 20 28 45 NA 53
 [494] 11 35 22 44 22 27 40 36 31 47 68 26 32 28 43 29 53 25 49 55 30 44 22 18 50 49 18 40 25
 [523] 44 30 18  0 25 26 50 NA 31 30 24 20 35 35 42 25 35 47 17 22 25 24 40 15 39 20 14 52 23
 [552] 25 31 12 25 30 45 41 21 44 95 25 27 27 69 43 20 50 29 10 35 33  6 NA 42 35 60 45 28 20
 [581] NA 20 14 27 29 30 31 40 31 75 27 25 34 11 20 40 30 30 20 23 20 15 10 37 35 28 45 17 30
 [610] 36 42 10 21  0 33 38 56 22 40 24 52 30 36 24  0  9 32 14 23 50 29 25 40 20 55 25 35 38
 [639] 25 15 33  4 29 24 31 41 40 36 17 40 35 14 26 35 44 32 28 27 30 32 25 20 40 34 60 20 50
 [668] 27  8 55 28 18  8 50 30 25 28 20  0 31 25 NA 24 30 18 16 NA 30  1 38  5 17  7 32 50 10
 [697] 35 10 55 20 34 25 21 20 21 45 26 34 27 30 65 30 40 25 50  3 20 30 45 10 31 NA 48 30 46
 [726] 30 40 40 46 30 20 68 18  8 25 38 60  8 50 28 40 20 33 50 50 30 15 33 81 15 28 32 NA 27
 [755] 32 36 20 31 36 NA 28 39 14 38 25 20 18 32 52 32 10 45 69 21 50 29 40 21 47 30 20 42 39
 [784] 38 15 11 36 43 25 25 20 62 69 20 38 30 30 NA 52 50 40 45 50 40 28 30 30 NA 30 25 20 13
 [813] 32 15 32 10 45  6 24 40 26 18 35 60 44 37 27 26 18 40 22 40 40 30 21 36 27 55 20 30 38
 [842] 33 24 35 30 35 21 31 20 40 25 32 39 35 43 28 37 24 12 36 40 71 50 34 45  0 10 55 56 30
 [871] 40 13 22 23 32 30 30 33 20 40 44 32 15 39 NA 45 32 20 32 31 25 30 NA 40 30 30 29 37 31
 [900] 28 34 32 40 28 50 31 23 25 32 45 22 33 30 18 38 17 30 35 30 25 37 51 38 10 55 27 21 40
 [929] 47 56 23 40 37 45 23 26 38 45  7 45 35 40 20 23 20 23  6 33 40 30 38 57 30 10 28 33  4
 [958] 20 25 27 15 60 65 64 65 50 33 20 30 38 15 60 60 38 40 20 27 45  6 14 33 37 35 12 25 35
 [987] 27 30 NA 45 20 38 43 20 NA 28  9 27 19 23
 [ reached getOption("max.print") -- omitted 450 entries ]
```
]





---

## Detailed quality checks: Look at all column names

.small-font[

```r
names(NCbirths)
```

```
 [1] "ID"            "Plural"        "Sex"           "MomAge"       
 [5] "Weeks"         "Marital"       "RaceMom"       "HispMom"      
 [9] "Gained"        "Smoke"         "BirthWeightOz" "BirthWeightGm"
[13] "Low"           "Premie"        "MomRace"      
```
]

--

What's the difference between `RaceMom` and `MomRace`?

---

## Detailed quality checks: Look at all column names

From the data dictionary:

- `RaceMom`&lt;br&gt;Mother's race: 1=white, 2=black, 3=American Indian, 4=Chinese,
5=Japanese, 6=Hawaiian, 7=Filipino, or 8=Other Asian or Pacific Islander

- `MomRace`&lt;br&gt;Mother's race: `black`, `hispanic`, `other`, or `white`

--

These are similar but not the same. Important not to confuse them!

---

## Detailed quality checks: Look at every data column

.tiny-font.pull-left.width-50[

```r
summary(NCbirths$ID) # five number summary
```

```
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
    1.0   363.2   725.5   725.5  1087.8  1450.0 
```
]
---

## Detailed quality checks: Look at every data column

.tiny-font.pull-left.width-50[

```r
summary(NCbirths$ID) # five number summary
```

```
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
    1.0   363.2   725.5   725.5  1087.8  1450.0 
```




```r
unique(NCbirths$ID)  # all unique values
```

```
   [1]    1    2    3    4    5    6    7    8
   [9]    9   10   11   12   13   14   15   16
  [17]   17   18   19   20   21   22   23   24
  [25]   25   26   27   28   29   30   31   32
  [33]   33   34   35   36   37   38   39   40
  [41]   41   42   43   44   45   46   47   48
  [49]   49   50   51   52   53   54   55   56
  [57]   57   58   59   60   61   62   63   64
  [65]   65   66   67   68   69   70   71   72
  [73]   73   74   75   76   77   78   79   80
  [81]   81   82   83   84   85   86   87   88
  [89]   89   90   91   92   93   94   95   96
  [97]   97   98   99  100  101  102  103  104
 [105]  105  106  107  108  109  110  111  112
 [113]  113  114  115  116  117  118  119  120
 [121]  121  122  123  124  125  126  127  128
 [129]  129  130  131  132  133  134  135  136
 [137]  137  138  139  140  141  142  143  144
 [145]  145  146  147  148  149  150  151  152
 [153]  153  154  155  156  157  158  159  160
 [161]  161  162  163  164  165  166  167  168
 [169]  169  170  171  172  173  174  175  176
 [177]  177  178  179  180  181  182  183  184
 [185]  185  186  187  188  189  190  191  192
 [193]  193  194  195  196  197  198  199  200
 [201]  201  202  203  204  205  206  207  208
 [209]  209  210  211  212  213  214  215  216
 [217]  217  218  219  220  221  222  223  224
 [225]  225  226  227  228  229  230  231  232
 [233]  233  234  235  236  237  238  239  240
 [241]  241  242  243  244  245  246  247  248
 [249]  249  250  251  252  253  254  255  256
 [257]  257  258  259  260  261  262  263  264
 [265]  265  266  267  268  269  270  271  272
 [273]  273  274  275  276  277  278  279  280
 [281]  281  282  283  284  285  286  287  288
 [289]  289  290  291  292  293  294  295  296
 [297]  297  298  299  300  301  302  303  304
 [305]  305  306  307  308  309  310  311  312
 [313]  313  314  315  316  317  318  319  320
 [321]  321  322  323  324  325  326  327  328
 [329]  329  330  331  332  333  334  335  336
 [337]  337  338  339  340  341  342  343  344
 [345]  345  346  347  348  349  350  351  352
 [353]  353  354  355  356  357  358  359  360
 [361]  361  362  363  364  365  366  367  368
 [369]  369  370  371  372  373  374  375  376
 [377]  377  378  379  380  381  382  383  384
 [385]  385  386  387  388  389  390  391  392
 [393]  393  394  395  396  397  398  399  400
 [401]  401  402  403  404  405  406  407  408
 [409]  409  410  411  412  413  414  415  416
 [417]  417  418  419  420  421  422  423  424
 [425]  425  426  427  428  429  430  431  432
 [433]  433  434  435  436  437  438  439  440
 [441]  441  442  443  444  445  446  447  448
 [449]  449  450  451  452  453  454  455  456
 [457]  457  458  459  460  461  462  463  464
 [465]  465  466  467  468  469  470  471  472
 [473]  473  474  475  476  477  478  479  480
 [481]  481  482  483  484  485  486  487  488
 [489]  489  490  491  492  493  494  495  496
 [497]  497  498  499  500  501  502  503  504
 [505]  505  506  507  508  509  510  511  512
 [513]  513  514  515  516  517  518  519  520
 [521]  521  522  523  524  525  526  527  528
 [529]  529  530  531  532  533  534  535  536
 [537]  537  538  539  540  541  542  543  544
 [545]  545  546  547  548  549  550  551  552
 [553]  553  554  555  556  557  558  559  560
 [561]  561  562  563  564  565  566  567  568
 [569]  569  570  571  572  573  574  575  576
 [577]  577  578  579  580  581  582  583  584
 [585]  585  586  587  588  589  590  591  592
 [593]  593  594  595  596  597  598  599  600
 [601]  601  602  603  604  605  606  607  608
 [609]  609  610  611  612  613  614  615  616
 [617]  617  618  619  620  621  622  623  624
 [625]  625  626  627  628  629  630  631  632
 [633]  633  634  635  636  637  638  639  640
 [641]  641  642  643  644  645  646  647  648
 [649]  649  650  651  652  653  654  655  656
 [657]  657  658  659  660  661  662  663  664
 [665]  665  666  667  668  669  670  671  672
 [673]  673  674  675  676  677  678  679  680
 [681]  681  682  683  684  685  686  687  688
 [689]  689  690  691  692  693  694  695  696
 [697]  697  698  699  700  701  702  703  704
 [705]  705  706  707  708  709  710  711  712
 [713]  713  714  715  716  717  718  719  720
 [721]  721  722  723  724  725  726  727  728
 [729]  729  730  731  732  733  734  735  736
 [737]  737  738  739  740  741  742  743  744
 [745]  745  746  747  748  749  750  751  752
 [753]  753  754  755  756  757  758  759  760
 [761]  761  762  763  764  765  766  767  768
 [769]  769  770  771  772  773  774  775  776
 [777]  777  778  779  780  781  782  783  784
 [785]  785  786  787  788  789  790  791  792
 [793]  793  794  795  796  797  798  799  800
 [801]  801  802  803  804  805  806  807  808
 [809]  809  810  811  812  813  814  815  816
 [817]  817  818  819  820  821  822  823  824
 [825]  825  826  827  828  829  830  831  832
 [833]  833  834  835  836  837  838  839  840
 [841]  841  842  843  844  845  846  847  848
 [849]  849  850  851  852  853  854  855  856
 [857]  857  858  859  860  861  862  863  864
 [865]  865  866  867  868  869  870  871  872
 [873]  873  874  875  876  877  878  879  880
 [881]  881  882  883  884  885  886  887  888
 [889]  889  890  891  892  893  894  895  896
 [897]  897  898  899  900  901  902  903  904
 [905]  905  906  907  908  909  910  911  912
 [913]  913  914  915  916  917  918  919  920
 [921]  921  922  923  924  925  926  927  928
 [929]  929  930  931  932  933  934  935  936
 [937]  937  938  939  940  941  942  943  944
 [945]  945  946  947  948  949  950  951  952
 [953]  953  954  955  956  957  958  959  960
 [961]  961  962  963  964  965  966  967  968
 [969]  969  970  971  972  973  974  975  976
 [977]  977  978  979  980  981  982  983  984
 [985]  985  986  987  988  989  990  991  992
 [993]  993  994  995  996  997  998  999 1000
 [ reached getOption("max.print") -- omitted 450 entries ]
```


]

--

.xtiny-font.pull-right[

```r
ggplot(NCbirths, aes(ID)) +
  geom_histogram() # histogram
```

```
`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
```

![](know-your-data-1_files/figure-html/ID-histogram-1.svg)&lt;!-- --&gt;
]

---

## Detailed quality checks: Look at every data column

.tiny-font.pull-left.width-50[

```r
summary(NCbirths$Plural) # five number summary
```

```
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
  1.000   1.000   1.000   1.037   1.000   3.000 
```
]

---

## Detailed quality checks: Look at every data column

.tiny-font.pull-left.width-50[

```r
summary(NCbirths$Plural) # five number summary
```

```
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
  1.000   1.000   1.000   1.037   1.000   3.000 
```


```r
unique(NCbirths$Plural)  # all unique values
```

```
[1] 1 2 3
```
]

--

.xtiny-font.pull-right[

```r
ggplot(NCbirths, aes(Plural)) +
  geom_histogram() # histogram
```

```
`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
```

![](know-your-data-1_files/figure-html/plural-births-histogram-1.svg)&lt;!-- --&gt;
]


---

## Detailed quality checks: Look at every data column



.tiny-font.pull-left.width-50[

```r
summary(NCbirths$Weeks) # five number summary
```

```
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
-999.00   38.00   39.00   37.91   40.00   45.00 
```
]

---

## Detailed quality checks: Look at every data column

.tiny-font.pull-left.width-50[

```r
summary(NCbirths$Weeks) # five number summary
```

```
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
-999.00   38.00   39.00   37.91   40.00   45.00 
```


```r
unique(NCbirths$Weeks)  # all unique values
```

```
 [1]   40   37   39   43   42   41   36   38   30
[10]   31   45   33   34   44   32   35   24   27
[19]   23   29   25   28   22 -999   26
```


]

--

.xtiny-font.pull-right[

```r
ggplot(NCbirths, aes(Weeks)) +
  geom_histogram() # histogram
```

```
`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
```

![](know-your-data-1_files/figure-html/weeks-histogram-1.svg)&lt;!-- --&gt;
]

--

What's the meaning of -999 weeks?

---

## In some cases, nonsensical values indicate missingness

--

We need to make sure to catch those cases:

.tiny-font[

```r
NCbirths &lt;- read_csv(
  "https://wilkelab.org/DSC385/datasets/NCbirths.csv",
  na = c("", "NA", "#N/A")
) %&gt;%
  mutate(
    Weeks = ifelse(Weeks &lt; 0, NA, Weeks)
  )
```
]

--

.tiny-font[

```r
summary(NCbirths$Weeks)
```

```
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
  22.00   38.00   39.00   38.62   40.00   45.00       1 
```
]

--

.tiny-font[

```r
unique(NCbirths$Weeks)
```

```
 [1] 40 37 39 43 42 41 36 38 30 31 45 33 34 44 32 35 24 27 23 29 25 28 22
[24] NA 26
```
]


---

## Consider recoding categorical variables

Marital status is encoded as 1/2:

.small-font[

```r
NCbirths %&gt;%
  pull(Marital)
```

```
   [1] 1 1 1 1 1 1 1 2 1 2 1 2 1 2 2 1 1 1 1 1 1 1 2 1 2 1 2 1 2 1 1 1 1 1
  [35] 1 1 2 1 1 1 2 1 1 2 1 1 2 2 1 1 1 1 1 1 2 1 1 2 2 1 1 1 1 2 1 1 1 1
  [69] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 2 1 2 1 1 1 1 2 1 1 1 1 1 1 1
 [103] 1 1 2 1 1 1 2 1 1 1 1 2 1 1 1 1 2 1 2 1 1 2 1 2 1 1 1 2 1 2 1 1 1 1
 [137] 1 1 1 1 2 1 1 1 1 1 1 1 1 1 1 1 2 1 1 1 2 1 1 2 2 1 2 1 1 1 1 1 1 2
 [171] 1 1 1 1 1 1 1 1 1 1 1 1 1 2 1 1 2 2 1 2 1 2 1 1 1 1 2 1 1 1 1 1 1 2
 [205] 2 1 1 1 1 1 1 2 1 2 2 1 1 2 1 1 1 1 1 2 2 1 1 2 1 1 1 1 1 2 2 1 1 1
 [239] 2 1 2 1 1 2 2 1 2 1 2 1 1 1 1 1 2 1 1 1 2 1 1 2 2 1 2 1 1 1 2 2 1 1
 [273] 1 1 1 2 1 2 1 2 1 1 1 1 1 1 1 2 1 1 1 1 1 1 1 1 1 1 1 1 1 2 2 1 1 1
 [307] 1 1 2 1 2 1 1 1 1 1 1 1 1 1 2 1 1 1 1 1 1 2 2 1 1 2 1 1 2 1 1 2 1 1
 [341] 1 1 1 1 2 1 1 1 1 1 1 1 1 1 1 1 2 1 1 1 1 1 1 1 1 2 2 1 1 2 1 1 2 1
 [375] 1 1 1 1 1 1 1 1 1 1 1 2 1 2 1 1 1 1 2 1 1 1 1 2 1 1 2 2 1 2 2 1 1 1
 [409] 2 1 2 1 1 2 1 1 1 1 1 1 1 1 2 1 1 1 1 1 1 1 2 1 1 1 1 1 1 1 2 1 2 1
 [443] 1 1 1 1 1 2 1 1 1 1 2 1 1 1 1 1 1 1 1 1 1 1 1 2 1 1 1 1 2 1 1 1 1 1
 [477] 1 1 1 1 1 1 1 1 1 1 1 2 1 1 2 1 2 2 2 2 1 1 1 1 2 1 2 1 1 2 1 1 1 1
 [511] 1 1 2 2 2 1 1 1 1 2 1 1 2 1 1 1 1 1 2 1 2 1 1 2 2 2 1 1 1 1 2 1 1 2
 [545] 1 1 1 1 1 1 1 2 2 1 1 1 1 2 1 1 1 1 1 1 2 2 1 1 1 2 1 1 1 1 1 2 1 1
 [579] 1 1 2 2 2 1 1 1 1 2 1 2 1 1 1 1 1 1 1 1 1 1 2 1 2 1 2 2 1 2 1 1 2 1
 [613] 1 1 1 1 1 2 2 1 1 1 1 1 2 1 1 1 1 2 1 1 1 1 2 1 1 1 1 1 1 2 2 1 1 1
 [647] 1 1 1 1 2 2 2 1 2 1 2 1 1 1 1 2 1 1 2 1 2 1 1 1 1 1 1 1 1 2 1 1 2 1
 [681] 1 1 1 2 1 1 2 1 2 2 2 1 2 2 1 2 1 2 2 1 2 1 1 2 1 1 1 1 1 1 1 1 1 1
 [715] 2 1 1 2 1 1 1 1 1 1 1 1 2 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 2 2
 [749] 1 1 1 1 1 1 1 1 1 1 1 1 2 1 2 2 1 1 1 1 2 1 1 1 2 2 2 1 1 1 2 2 1 1
 [783] 1 1 1 2 1 1 2 1 2 1 1 1 1 1 1 1 1 2 2 2 1 2 1 1 1 1 1 2 1 1 1 2 1 1
 [817] 2 1 2 1 2 1 2 2 1 1 1 1 1 1 2 1 1 1 1 1 1 1 2 1 1 1 1 2 1 1 1 2 1 1
 [851] 1 1 1 1 1 1 1 1 1 2 1 2 1 2 1 1 2 2 1 1 1 1 1 1 1 1 1 2 1 1 1 1 1 1
 [885] 1 1 2 1 1 1 2 1 1 1 2 1 1 2 1 1 1 1 1 1 1 1 1 2 1 1 2 1 1 1 2 2 1 1
 [919] 1 1 1 1 1 2 2 2 1 1 1 1 2 1 1 1 1 1 1 2 2 1 1 1 1 1 2 1 1 1 1 1 1 1
 [953] 2 1 1 2 2 2 1 2 1 2 2 1 2 2 1 1 1 1 2 2 2 1 1 1 1 1 2 1 1 1 2 2 2 1
 [987] 1 1 1 2 1 1 1 1 2 2 1 1 1 2
 [ reached getOption("max.print") -- omitted 450 entries ]
```
]

---

## Consider recoding categorical variables

Recode as `"married"`/`"not married"`:

.small-font[

```r
NCbirths %&gt;%
  mutate(
    Marital = ifelse(Marital == 1, "married", "not married")
  ) %&gt;%
  pull(Marital)
```

```
   [1] "married"     "married"     "married"     "married"    
   [5] "married"     "married"     "married"     "not married"
   [9] "married"     "not married" "married"     "not married"
  [13] "married"     "not married" "not married" "married"    
  [17] "married"     "married"     "married"     "married"    
  [21] "married"     "married"     "not married" "married"    
  [25] "not married" "married"     "not married" "married"    
  [29] "not married" "married"     "married"     "married"    
  [33] "married"     "married"     "married"     "married"    
  [37] "not married" "married"     "married"     "married"    
  [41] "not married" "married"     "married"     "not married"
  [45] "married"     "married"     "not married" "not married"
  [49] "married"     "married"     "married"     "married"    
  [53] "married"     "married"     "not married" "married"    
  [57] "married"     "not married" "not married" "married"    
  [61] "married"     "married"     "married"     "not married"
  [65] "married"     "married"     "married"     "married"    
  [69] "married"     "married"     "married"     "married"    
  [73] "married"     "married"     "married"     "married"    
  [77] "married"     "married"     "married"     "married"    
  [81] "married"     "married"     "married"     "married"    
  [85] "married"     "married"     "married"     "not married"
  [89] "married"     "not married" "married"     "married"    
  [93] "married"     "married"     "not married" "married"    
  [97] "married"     "married"     "married"     "married"    
 [101] "married"     "married"     "married"     "married"    
 [105] "not married" "married"     "married"     "married"    
 [109] "not married" "married"     "married"     "married"    
 [113] "married"     "not married" "married"     "married"    
 [117] "married"     "married"     "not married" "married"    
 [121] "not married" "married"     "married"     "not married"
 [125] "married"     "not married" "married"     "married"    
 [129] "married"     "not married" "married"     "not married"
 [133] "married"     "married"     "married"     "married"    
 [137] "married"     "married"     "married"     "married"    
 [141] "not married" "married"     "married"     "married"    
 [145] "married"     "married"     "married"     "married"    
 [149] "married"     "married"     "married"     "married"    
 [153] "not married" "married"     "married"     "married"    
 [157] "not married" "married"     "married"     "not married"
 [161] "not married" "married"     "not married" "married"    
 [165] "married"     "married"     "married"     "married"    
 [169] "married"     "not married" "married"     "married"    
 [173] "married"     "married"     "married"     "married"    
 [177] "married"     "married"     "married"     "married"    
 [181] "married"     "married"     "married"     "not married"
 [185] "married"     "married"     "not married" "not married"
 [189] "married"     "not married" "married"     "not married"
 [193] "married"     "married"     "married"     "married"    
 [197] "not married" "married"     "married"     "married"    
 [201] "married"     "married"     "married"     "not married"
 [205] "not married" "married"     "married"     "married"    
 [209] "married"     "married"     "married"     "not married"
 [213] "married"     "not married" "not married" "married"    
 [217] "married"     "not married" "married"     "married"    
 [221] "married"     "married"     "married"     "not married"
 [225] "not married" "married"     "married"     "not married"
 [229] "married"     "married"     "married"     "married"    
 [233] "married"     "not married" "not married" "married"    
 [237] "married"     "married"     "not married" "married"    
 [241] "not married" "married"     "married"     "not married"
 [245] "not married" "married"     "not married" "married"    
 [249] "not married" "married"     "married"     "married"    
 [253] "married"     "married"     "not married" "married"    
 [257] "married"     "married"     "not married" "married"    
 [261] "married"     "not married" "not married" "married"    
 [265] "not married" "married"     "married"     "married"    
 [269] "not married" "not married" "married"     "married"    
 [273] "married"     "married"     "married"     "not married"
 [277] "married"     "not married" "married"     "not married"
 [281] "married"     "married"     "married"     "married"    
 [285] "married"     "married"     "married"     "not married"
 [289] "married"     "married"     "married"     "married"    
 [293] "married"     "married"     "married"     "married"    
 [297] "married"     "married"     "married"     "married"    
 [301] "married"     "not married" "not married" "married"    
 [305] "married"     "married"     "married"     "married"    
 [309] "not married" "married"     "not married" "married"    
 [313] "married"     "married"     "married"     "married"    
 [317] "married"     "married"     "married"     "married"    
 [321] "not married" "married"     "married"     "married"    
 [325] "married"     "married"     "married"     "not married"
 [329] "not married" "married"     "married"     "not married"
 [333] "married"     "married"     "not married" "married"    
 [337] "married"     "not married" "married"     "married"    
 [341] "married"     "married"     "married"     "married"    
 [345] "not married" "married"     "married"     "married"    
 [349] "married"     "married"     "married"     "married"    
 [353] "married"     "married"     "married"     "married"    
 [357] "not married" "married"     "married"     "married"    
 [361] "married"     "married"     "married"     "married"    
 [365] "married"     "not married" "not married" "married"    
 [369] "married"     "not married" "married"     "married"    
 [373] "not married" "married"     "married"     "married"    
 [377] "married"     "married"     "married"     "married"    
 [381] "married"     "married"     "married"     "married"    
 [385] "married"     "not married" "married"     "not married"
 [389] "married"     "married"     "married"     "married"    
 [393] "not married" "married"     "married"     "married"    
 [397] "married"     "not married" "married"     "married"    
 [401] "not married" "not married" "married"     "not married"
 [405] "not married" "married"     "married"     "married"    
 [409] "not married" "married"     "not married" "married"    
 [413] "married"     "not married" "married"     "married"    
 [417] "married"     "married"     "married"     "married"    
 [421] "married"     "married"     "not married" "married"    
 [425] "married"     "married"     "married"     "married"    
 [429] "married"     "married"     "not married" "married"    
 [433] "married"     "married"     "married"     "married"    
 [437] "married"     "married"     "not married" "married"    
 [441] "not married" "married"     "married"     "married"    
 [445] "married"     "married"     "married"     "not married"
 [449] "married"     "married"     "married"     "married"    
 [453] "not married" "married"     "married"     "married"    
 [457] "married"     "married"     "married"     "married"    
 [461] "married"     "married"     "married"     "married"    
 [465] "married"     "not married" "married"     "married"    
 [469] "married"     "married"     "not married" "married"    
 [473] "married"     "married"     "married"     "married"    
 [477] "married"     "married"     "married"     "married"    
 [481] "married"     "married"     "married"     "married"    
 [485] "married"     "married"     "married"     "not married"
 [489] "married"     "married"     "not married" "married"    
 [493] "not married" "not married" "not married" "not married"
 [497] "married"     "married"     "married"     "married"    
 [501] "not married" "married"     "not married" "married"    
 [505] "married"     "not married" "married"     "married"    
 [509] "married"     "married"     "married"     "married"    
 [513] "not married" "not married" "not married" "married"    
 [517] "married"     "married"     "married"     "not married"
 [521] "married"     "married"     "not married" "married"    
 [525] "married"     "married"     "married"     "married"    
 [529] "not married" "married"     "not married" "married"    
 [533] "married"     "not married" "not married" "not married"
 [537] "married"     "married"     "married"     "married"    
 [541] "not married" "married"     "married"     "not married"
 [545] "married"     "married"     "married"     "married"    
 [549] "married"     "married"     "married"     "not married"
 [553] "not married" "married"     "married"     "married"    
 [557] "married"     "not married" "married"     "married"    
 [561] "married"     "married"     "married"     "married"    
 [565] "not married" "not married" "married"     "married"    
 [569] "married"     "not married" "married"     "married"    
 [573] "married"     "married"     "married"     "not married"
 [577] "married"     "married"     "married"     "married"    
 [581] "not married" "not married" "not married" "married"    
 [585] "married"     "married"     "married"     "not married"
 [589] "married"     "not married" "married"     "married"    
 [593] "married"     "married"     "married"     "married"    
 [597] "married"     "married"     "married"     "married"    
 [601] "not married" "married"     "not married" "married"    
 [605] "not married" "not married" "married"     "not married"
 [609] "married"     "married"     "not married" "married"    
 [613] "married"     "married"     "married"     "married"    
 [617] "married"     "not married" "not married" "married"    
 [621] "married"     "married"     "married"     "married"    
 [625] "not married" "married"     "married"     "married"    
 [629] "married"     "not married" "married"     "married"    
 [633] "married"     "married"     "not married" "married"    
 [637] "married"     "married"     "married"     "married"    
 [641] "married"     "not married" "not married" "married"    
 [645] "married"     "married"     "married"     "married"    
 [649] "married"     "married"     "not married" "not married"
 [653] "not married" "married"     "not married" "married"    
 [657] "not married" "married"     "married"     "married"    
 [661] "married"     "not married" "married"     "married"    
 [665] "not married" "married"     "not married" "married"    
 [669] "married"     "married"     "married"     "married"    
 [673] "married"     "married"     "married"     "not married"
 [677] "married"     "married"     "not married" "married"    
 [681] "married"     "married"     "married"     "not married"
 [685] "married"     "married"     "not married" "married"    
 [689] "not married" "not married" "not married" "married"    
 [693] "not married" "not married" "married"     "not married"
 [697] "married"     "not married" "not married" "married"    
 [701] "not married" "married"     "married"     "not married"
 [705] "married"     "married"     "married"     "married"    
 [709] "married"     "married"     "married"     "married"    
 [713] "married"     "married"     "not married" "married"    
 [717] "married"     "not married" "married"     "married"    
 [721] "married"     "married"     "married"     "married"    
 [725] "married"     "married"     "not married" "married"    
 [729] "married"     "married"     "married"     "married"    
 [733] "married"     "married"     "married"     "married"    
 [737] "married"     "married"     "married"     "married"    
 [741] "married"     "married"     "married"     "married"    
 [745] "married"     "married"     "not married" "not married"
 [749] "married"     "married"     "married"     "married"    
 [753] "married"     "married"     "married"     "married"    
 [757] "married"     "married"     "married"     "married"    
 [761] "not married" "married"     "not married" "not married"
 [765] "married"     "married"     "married"     "married"    
 [769] "not married" "married"     "married"     "married"    
 [773] "not married" "not married" "not married" "married"    
 [777] "married"     "married"     "not married" "not married"
 [781] "married"     "married"     "married"     "married"    
 [785] "married"     "not married" "married"     "married"    
 [789] "not married" "married"     "not married" "married"    
 [793] "married"     "married"     "married"     "married"    
 [797] "married"     "married"     "married"     "not married"
 [801] "not married" "not married" "married"     "not married"
 [805] "married"     "married"     "married"     "married"    
 [809] "married"     "not married" "married"     "married"    
 [813] "married"     "not married" "married"     "married"    
 [817] "not married" "married"     "not married" "married"    
 [821] "not married" "married"     "not married" "not married"
 [825] "married"     "married"     "married"     "married"    
 [829] "married"     "married"     "not married" "married"    
 [833] "married"     "married"     "married"     "married"    
 [837] "married"     "married"     "not married" "married"    
 [841] "married"     "married"     "married"     "not married"
 [845] "married"     "married"     "married"     "not married"
 [849] "married"     "married"     "married"     "married"    
 [853] "married"     "married"     "married"     "married"    
 [857] "married"     "married"     "married"     "not married"
 [861] "married"     "not married" "married"     "not married"
 [865] "married"     "married"     "not married" "not married"
 [869] "married"     "married"     "married"     "married"    
 [873] "married"     "married"     "married"     "married"    
 [877] "married"     "not married" "married"     "married"    
 [881] "married"     "married"     "married"     "married"    
 [885] "married"     "married"     "not married" "married"    
 [889] "married"     "married"     "not married" "married"    
 [893] "married"     "married"     "not married" "married"    
 [897] "married"     "not married" "married"     "married"    
 [901] "married"     "married"     "married"     "married"    
 [905] "married"     "married"     "married"     "not married"
 [909] "married"     "married"     "not married" "married"    
 [913] "married"     "married"     "not married" "not married"
 [917] "married"     "married"     "married"     "married"    
 [921] "married"     "married"     "married"     "not married"
 [925] "not married" "not married" "married"     "married"    
 [929] "married"     "married"     "not married" "married"    
 [933] "married"     "married"     "married"     "married"    
 [937] "married"     "not married" "not married" "married"    
 [941] "married"     "married"     "married"     "married"    
 [945] "not married" "married"     "married"     "married"    
 [949] "married"     "married"     "married"     "married"    
 [953] "not married" "married"     "married"     "not married"
 [957] "not married" "not married" "married"     "not married"
 [961] "married"     "not married" "not married" "married"    
 [965] "not married" "not married" "married"     "married"    
 [969] "married"     "married"     "not married" "not married"
 [973] "not married" "married"     "married"     "married"    
 [977] "married"     "married"     "not married" "married"    
 [981] "married"     "married"     "not married" "not married"
 [985] "not married" "married"     "married"     "married"    
 [989] "married"     "not married" "married"     "married"    
 [993] "married"     "married"     "not married" "not married"
 [997] "married"     "married"     "married"     "not married"
 [ reached getOption("max.print") -- omitted 450 entries ]
```
]

---

## Recode multiple categories with `case_when()`

The mother's race is encoded as integers from 1 through 8:

.small-font[

```r
NCbirths %&gt;%
  pull(RaceMom)
```

```
   [1] 1 1 1 1 1 1 1 1 1 1 1 1 1 5 1 5 1 1 1 5 1 1 5 1 5 1 1 1 5 1 1 1 5 1
  [35] 1 1 5 5 5 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 5 1 1 1 1 1 1 1 5 1 5 1 1 5
  [69] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 5 1 5 1 5 1 1 1 1 1 1 1 1 1 1 1 5 1 1
 [103] 1 5 1 1 1 1 1 1 1 1 1 1 1 5 1 5 1 1 1 1 1 1 1 5 1 1 5 1 1 1 1 1 5 1
 [137] 1 1 1 1 1 1 5 1 1 5 5 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 5 1 5 1 5 5 1 1
 [171] 1 5 1 1 1 5 5 1 5 1 1 1 1 1 1 1 1 1 1 1 5 1 1 5 1 1 1 1 1 1 1 1 1 1
 [205] 1 1 1 5 1 1 1 1 1 1 1 1 1 5 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
 [239] 5 1 1 1 1 1 5 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 5 5 1 1 1 1 5 1 1 1 1
 [273] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
 [307] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 5 1 1 1 1 5 1 1 5 1 1 1 1 1 1 1 1
 [341] 1 1 1 1 5 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 5 1 1 1 1 1 1 1
 [375] 1 1 5 1 1 1 1 1 1 1 1 5 1 1 1 1 1 1 5 1 1 1 1 5 1 5 1 1 1 5 1 1 1 1
 [409] 1 1 1 1 1 5 1 1 1 1 1 5 1 1 5 1 1 1 1 5 1 1 5 1 1 1 1 1 1 1 1 1 1 1
 [443] 1 1 1 5 1 5 1 1 1 1 1 1 1 1 1 1 5 1 1 5 1 1 1 5 1 1 1 1 5 1 1 5 1 1
 [477] 1 1 1 5 1 1 1 1 1 1 1 5 1 1 1 1 1 1 5 1 1 1 1 5 1 1 1 1 1 1 1 1 1 1
 [511] 1 5 1 1 1 5 1 1 1 5 1 1 1 1 1 1 1 1 1 1 1 1 1 5 1 1 1 1 1 1 1 1 1 1
 [545] 1 1 1 1 1 1 1 1 1 5 1 5 1 1 1 1 1 1 1 1 1 1 5 1 1 1 1 1 1 1 1 1 1 1
 [579] 1 1 5 5 1 1 1 1 1 5 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 5 5 5 5 1 5 1
 [613] 1 1 5 5 1 5 1 1 1 1 1 5 1 1 1 1 1 1 1 1 1 1 1 1 1 5 1 1 1 1 1 1 1 1
 [647] 1 1 1 1 1 1 5 1 1 1 1 1 1 1 1 5 1 5 5 1 5 1 1 1 1 1 1 1 1 5 1 1 1 1
 [681] 1 5 1 5 5 1 5 1 1 5 5 1 1 1 1 5 5 5 1 1 1 5 1 5 1 1 1 1 1 5 1 5 1 5
 [715] 1 1 1 5 1 1 1 1 1 1 1 1 5 1 5 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 5 5
 [749] 1 1 1 1 1 1 1 1 1 1 1 1 1 5 1 5 1 1 1 1 1 1 1 1 5 1 1 5 1 1 1 5 1 1
 [783] 1 1 1 1 5 1 5 1 5 1 1 1 1 1 1 1 1 1 5 5 1 1 1 1 1 1 1 1 1 1 1 1 1 1
 [817] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 5 1 1 1 1 1 1 1 1 5 1 1
 [851] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 5 1 1 1 1 5 1 1 1 1 1 1 1 1 1 1 1 1
 [885] 1 1 5 5 1 1 1 1 5 1 5 1 1 5 1 5 1 1 1 1 1 1 1 1 5 1 1 1 1 1 5 1 1 1
 [919] 1 1 1 5 1 1 1 5 1 1 5 1 1 1 1 1 1 1 1 1 5 1 1 1 1 5 1 1 5 5 1 5 1 1
 [953] 5 1 5 1 5 5 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 5 5 1 1 1 5 5 1
 [987] 1 5 1 1 1 1 1 1 1 1 1 1 1 5
 [ reached getOption("max.print") -- omitted 450 entries ]
```
]

---

## Recode multiple categories with `case_when()`

The mother's race is encoded as integers from 1 through 8:

.small-font[

```r
NCbirths %&gt;%
  pull(RaceMom) %&gt;%
  unique() # list all the unique values (ordered by first occurrence)
```

```
[1] 1 5 2 3 4 7 8
```
]

---

## Recode multiple categories with `case_when()`



We use `case_when()` to recode multiple values all at once:

.xtiny-font.pull-left[

```r
NCbirths %&gt;%
  mutate(
    RaceMom = case_when(
      RaceMom == 1 ~ "white",
      RaceMom == 2 ~ "black",
      RaceMom == 3 ~ "American Indian",
      RaceMom == 4 ~ "Chinese",
      RaceMom == 5 ~ "Japanese",
      RaceMom == 6 ~ "Hawaiian",
      RaceMom == 7 ~ "Filipino",
      RaceMom == 8 ~ 
        "Other Asian or Pacific Islander",
      TRUE ~ NA_character_ # should never reach
    )
  )
```
]




---

## Recode multiple categories with `case_when()`



We use `case_when()` to recode multiple values all at once:

.xtiny-font.pull-left[

```r
NCbirths %&gt;%
  mutate(
    RaceMom = case_when(
      RaceMom == 1 ~ "white",
      RaceMom == 2 ~ "black",
      RaceMom == 3 ~ "American Indian",
      RaceMom == 4 ~ "Chinese",
      RaceMom == 5 ~ "Japanese",
      RaceMom == 6 ~ "Hawaiian",
      RaceMom == 7 ~ "Filipino",
      RaceMom == 8 ~ 
        "Other Asian or Pacific Islander",
      TRUE ~ NA_character_ # should never reach
    )
  ) %&gt;%
  pull(RaceMom)
```
]

.xtiny-font.pull-right[

```
   [1] "white"    "white"    "white"    "white"   
   [5] "white"    "white"    "white"    "white"   
   [9] "white"    "white"    "white"    "white"   
  [13] "white"    "Japanese" "white"    "Japanese"
  [17] "white"    "white"    "white"    "Japanese"
  [21] "white"    "white"    "Japanese" "white"   
  [25] "Japanese" "white"    "white"    "white"   
  [29] "Japanese" "white"    "white"    "white"   
  [33] "Japanese" "white"    "white"    "white"   
  [37] "Japanese" "Japanese" "Japanese" "white"   
  [41] "white"    "white"    "white"    "white"   
  [45] "white"    "white"    "white"    "white"   
  [49] "white"    "white"    "white"    "white"   
  [53] "white"    "white"    "Japanese" "white"   
  [57] "white"    "white"    "white"    "white"   
  [61] "white"    "white"    "Japanese" "white"   
  [65] "Japanese" "white"    "white"    "Japanese"
  [69] "white"    "white"    "white"    "white"   
  [73] "white"    "white"    "white"    "white"   
  [77] "white"    "white"    "white"    "white"   
  [81] "white"    "white"    "white"    "Japanese"
  [85] "white"    "Japanese" "white"    "Japanese"
  [89] "white"    "white"    "white"    "white"   
  [93] "white"    "white"    "white"    "white"   
  [97] "white"    "white"    "white"    "Japanese"
 [101] "white"    "white"    "white"    "Japanese"
 [105] "white"    "white"    "white"    "white"   
 [109] "white"    "white"    "white"    "white"   
 [113] "white"    "white"    "white"    "Japanese"
 [117] "white"    "Japanese" "white"    "white"   
 [121] "white"    "white"    "white"    "white"   
 [125] "white"    "Japanese" "white"    "white"   
 [129] "Japanese" "white"    "white"    "white"   
 [133] "white"    "white"    "Japanese" "white"   
 [137] "white"    "white"    "white"    "white"   
 [141] "white"    "white"    "Japanese" "white"   
 [145] "white"    "Japanese" "Japanese" "white"   
 [149] "white"    "white"    "white"    "white"   
 [153] "white"    "white"    "white"    "white"   
 [157] "white"    "white"    "white"    "white"   
 [161] "white"    "white"    "Japanese" "white"   
 [165] "Japanese" "white"    "Japanese" "Japanese"
 [169] "white"    "white"    "white"    "Japanese"
 [173] "white"    "white"    "white"    "Japanese"
 [177] "Japanese" "white"    "Japanese" "white"   
 [181] "white"    "white"    "white"    "white"   
 [185] "white"    "white"    "white"    "white"   
 [189] "white"    "white"    "Japanese" "white"   
 [193] "white"    "Japanese" "white"    "white"   
 [197] "white"    "white"    "white"    "white"   
 [201] "white"    "white"    "white"    "white"   
 [205] "white"    "white"    "white"    "Japanese"
 [209] "white"    "white"    "white"    "white"   
 [213] "white"    "white"    "white"    "white"   
 [217] "white"    "Japanese" "white"    "white"   
 [221] "white"    "white"    "white"    "white"   
 [225] "white"    "white"    "white"    "white"   
 [229] "white"    "white"    "white"    "white"   
 [233] "white"    "white"    "white"    "white"   
 [237] "white"    "white"    "Japanese" "white"   
 [241] "white"    "white"    "white"    "white"   
 [245] "Japanese" "white"    "white"    "white"   
 [249] "white"    "white"    "white"    "white"   
 [253] "white"    "white"    "white"    "white"   
 [257] "white"    "white"    "white"    "white"   
 [261] "white"    "Japanese" "Japanese" "white"   
 [265] "white"    "white"    "white"    "Japanese"
 [269] "white"    "white"    "white"    "white"   
 [273] "white"    "white"    "white"    "white"   
 [277] "white"    "white"    "white"    "white"   
 [281] "white"    "white"    "white"    "white"   
 [285] "white"    "white"    "white"    "white"   
 [289] "white"    "white"    "white"    "white"   
 [293] "white"    "white"    "white"    "white"   
 [297] "white"    "white"    "white"    "white"   
 [301] "white"    "white"    "white"    "white"   
 [305] "white"    "white"    "white"    "white"   
 [309] "white"    "white"    "white"    "white"   
 [313] "white"    "white"    "white"    "white"   
 [317] "white"    "white"    "white"    "white"   
 [321] "white"    "white"    "white"    "Japanese"
 [325] "white"    "white"    "white"    "white"   
 [329] "Japanese" "white"    "white"    "Japanese"
 [333] "white"    "white"    "white"    "white"   
 [337] "white"    "white"    "white"    "white"   
 [341] "white"    "white"    "white"    "white"   
 [345] "Japanese" "white"    "white"    "white"   
 [349] "white"    "white"    "white"    "white"   
 [353] "white"    "white"    "white"    "white"   
 [357] "white"    "white"    "white"    "white"   
 [361] "white"    "white"    "white"    "white"   
 [365] "white"    "white"    "Japanese" "white"   
 [369] "white"    "white"    "white"    "white"   
 [373] "white"    "white"    "white"    "white"   
 [377] "Japanese" "white"    "white"    "white"   
 [381] "white"    "white"    "white"    "white"   
 [385] "white"    "Japanese" "white"    "white"   
 [389] "white"    "white"    "white"    "white"   
 [393] "Japanese" "white"    "white"    "white"   
 [397] "white"    "Japanese" "white"    "Japanese"
 [401] "white"    "white"    "white"    "Japanese"
 [405] "white"    "white"    "white"    "white"   
 [409] "white"    "white"    "white"    "white"   
 [413] "white"    "Japanese" "white"    "white"   
 [417] "white"    "white"    "white"    "Japanese"
 [421] "white"    "white"    "Japanese" "white"   
 [425] "white"    "white"    "white"    "Japanese"
 [429] "white"    "white"    "Japanese" "white"   
 [433] "white"    "white"    "white"    "white"   
 [437] "white"    "white"    "white"    "white"   
 [441] "white"    "white"    "white"    "white"   
 [445] "white"    "Japanese" "white"    "Japanese"
 [449] "white"    "white"    "white"    "white"   
 [453] "white"    "white"    "white"    "white"   
 [457] "white"    "white"    "Japanese" "white"   
 [461] "white"    "Japanese" "white"    "white"   
 [465] "white"    "Japanese" "white"    "white"   
 [469] "white"    "white"    "Japanese" "white"   
 [473] "white"    "Japanese" "white"    "white"   
 [477] "white"    "white"    "white"    "Japanese"
 [481] "white"    "white"    "white"    "white"   
 [485] "white"    "white"    "white"    "Japanese"
 [489] "white"    "white"    "white"    "white"   
 [493] "white"    "white"    "Japanese" "white"   
 [497] "white"    "white"    "white"    "Japanese"
 [501] "white"    "white"    "white"    "white"   
 [505] "white"    "white"    "white"    "white"   
 [509] "white"    "white"    "white"    "Japanese"
 [513] "white"    "white"    "white"    "Japanese"
 [517] "white"    "white"    "white"    "Japanese"
 [521] "white"    "white"    "white"    "white"   
 [525] "white"    "white"    "white"    "white"   
 [529] "white"    "white"    "white"    "white"   
 [533] "white"    "Japanese" "white"    "white"   
 [537] "white"    "white"    "white"    "white"   
 [541] "white"    "white"    "white"    "white"   
 [545] "white"    "white"    "white"    "white"   
 [549] "white"    "white"    "white"    "white"   
 [553] "white"    "Japanese" "white"    "Japanese"
 [557] "white"    "white"    "white"    "white"   
 [561] "white"    "white"    "white"    "white"   
 [565] "white"    "white"    "Japanese" "white"   
 [569] "white"    "white"    "white"    "white"   
 [573] "white"    "white"    "white"    "white"   
 [577] "white"    "white"    "white"    "white"   
 [581] "Japanese" "Japanese" "white"    "white"   
 [585] "white"    "white"    "white"    "Japanese"
 [589] "white"    "white"    "white"    "white"   
 [593] "white"    "white"    "white"    "white"   
 [597] "white"    "white"    "white"    "white"   
 [601] "white"    "white"    "white"    "white"   
 [605] "white"    "Japanese" "Japanese" "Japanese"
 [609] "Japanese" "white"    "Japanese" "white"   
 [613] "white"    "white"    "Japanese" "Japanese"
 [617] "white"    "Japanese" "white"    "white"   
 [621] "white"    "white"    "white"    "Japanese"
 [625] "white"    "white"    "white"    "white"   
 [629] "white"    "white"    "white"    "white"   
 [633] "white"    "white"    "white"    "white"   
 [637] "white"    "Japanese" "white"    "white"   
 [641] "white"    "white"    "white"    "white"   
 [645] "white"    "white"    "white"    "white"   
 [649] "white"    "white"    "white"    "white"   
 [653] "Japanese" "white"    "white"    "white"   
 [657] "white"    "white"    "white"    "white"   
 [661] "white"    "Japanese" "white"    "Japanese"
 [665] "Japanese" "white"    "Japanese" "white"   
 [669] "white"    "white"    "white"    "white"   
 [673] "white"    "white"    "white"    "Japanese"
 [677] "white"    "white"    "white"    "white"   
 [681] "white"    "Japanese" "white"    "Japanese"
 [685] "Japanese" "white"    "Japanese" "white"   
 [689] "white"    "Japanese" "Japanese" "white"   
 [693] "white"    "white"    "white"    "Japanese"
 [697] "Japanese" "Japanese" "white"    "white"   
 [701] "white"    "Japanese" "white"    "Japanese"
 [705] "white"    "white"    "white"    "white"   
 [709] "white"    "Japanese" "white"    "Japanese"
 [713] "white"    "Japanese" "white"    "white"   
 [717] "white"    "Japanese" "white"    "white"   
 [721] "white"    "white"    "white"    "white"   
 [725] "white"    "white"    "Japanese" "white"   
 [729] "Japanese" "white"    "white"    "white"   
 [733] "white"    "white"    "white"    "white"   
 [737] "white"    "white"    "white"    "white"   
 [741] "white"    "white"    "white"    "white"   
 [745] "white"    "white"    "Japanese" "Japanese"
 [749] "white"    "white"    "white"    "white"   
 [753] "white"    "white"    "white"    "white"   
 [757] "white"    "white"    "white"    "white"   
 [761] "white"    "Japanese" "white"    "Japanese"
 [765] "white"    "white"    "white"    "white"   
 [769] "white"    "white"    "white"    "white"   
 [773] "Japanese" "white"    "white"    "Japanese"
 [777] "white"    "white"    "white"    "Japanese"
 [781] "white"    "white"    "white"    "white"   
 [785] "white"    "white"    "Japanese" "white"   
 [789] "Japanese" "white"    "Japanese" "white"   
 [793] "white"    "white"    "white"    "white"   
 [797] "white"    "white"    "white"    "white"   
 [801] "Japanese" "Japanese" "white"    "white"   
 [805] "white"    "white"    "white"    "white"   
 [809] "white"    "white"    "white"    "white"   
 [813] "white"    "white"    "white"    "white"   
 [817] "white"    "white"    "white"    "white"   
 [821] "white"    "white"    "white"    "white"   
 [825] "white"    "white"    "white"    "white"   
 [829] "white"    "white"    "white"    "white"   
 [833] "white"    "white"    "white"    "white"   
 [837] "white"    "white"    "Japanese" "white"   
 [841] "white"    "white"    "white"    "white"   
 [845] "white"    "white"    "white"    "Japanese"
 [849] "white"    "white"    "white"    "white"   
 [853] "white"    "white"    "white"    "white"   
 [857] "white"    "white"    "white"    "white"   
 [861] "white"    "white"    "white"    "white"   
 [865] "white"    "white"    "Japanese" "white"   
 [869] "white"    "white"    "white"    "Japanese"
 [873] "white"    "white"    "white"    "white"   
 [877] "white"    "white"    "white"    "white"   
 [881] "white"    "white"    "white"    "white"   
 [885] "white"    "white"    "Japanese" "Japanese"
 [889] "white"    "white"    "white"    "white"   
 [893] "Japanese" "white"    "Japanese" "white"   
 [897] "white"    "Japanese" "white"    "Japanese"
 [901] "white"    "white"    "white"    "white"   
 [905] "white"    "white"    "white"    "white"   
 [909] "Japanese" "white"    "white"    "white"   
 [913] "white"    "white"    "Japanese" "white"   
 [917] "white"    "white"    "white"    "white"   
 [921] "white"    "Japanese" "white"    "white"   
 [925] "white"    "Japanese" "white"    "white"   
 [929] "Japanese" "white"    "white"    "white"   
 [933] "white"    "white"    "white"    "white"   
 [937] "white"    "white"    "Japanese" "white"   
 [941] "white"    "white"    "white"    "Japanese"
 [945] "white"    "white"    "Japanese" "Japanese"
 [949] "white"    "Japanese" "white"    "white"   
 [953] "Japanese" "white"    "Japanese" "white"   
 [957] "Japanese" "Japanese" "white"    "white"   
 [961] "white"    "white"    "white"    "white"   
 [965] "white"    "white"    "white"    "white"   
 [969] "white"    "white"    "white"    "white"   
 [973] "white"    "white"    "white"    "white"   
 [977] "white"    "white"    "Japanese" "Japanese"
 [981] "white"    "white"    "white"    "Japanese"
 [985] "Japanese" "white"    "white"    "Japanese"
 [989] "white"    "white"    "white"    "white"   
 [993] "white"    "white"    "white"    "white"   
 [997] "white"    "white"    "white"    "Japanese"
 [ reached getOption("max.print") -- omitted 450 entries ]
```
]




---


[//]: # "segment ends here"


---

## Further reading




    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"ratio": "16:9",
"highlightStyle": "github",
"highlightLines": true,
"slideNumberFormat": ""
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
